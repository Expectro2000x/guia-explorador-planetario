import{c as j,r as d,u as f,b as N,j as e,L as g,a as p}from"./index-Bs6gLj6-.js";const z=()=>{const{id:m}=j(),[a,o]=d.useState(null),[h,u]=d.useState(!0),[l,i]=d.useState(null),x=f(),{auth:r}=N();d.useEffect(()=>{(async()=>{u(!0);try{const t=await p.get(`http://localhost:4000/especies/${m}`,{headers:{Authorization:`Bearer ${r==null?void 0:r.token}`}});o(t.data)}catch(t){if(p.isAxiosError(t)){const n=t;if(n.response){const c=n.response.data;i(c.error||"Error al actualizar la especie. Por favor intente de nuevo.")}else i("Error al actualizar la especie. Por favor intente de nuevo.")}else i("Error al actualizar la especie. Por favor intente de nuevo.");console.error("Error al actualizar la especie:",t)}finally{u(!1)}})()},[m,r==null?void 0:r.token]);const b=s=>{if(s.preventDefault(),!a)return;const t={nombre:a.nombre,tamano:a.tamano,peso:a.peso,habitat:a.habitat,alimentacion:a.alimentacion,tipo:a.tipo,descripcion:a.descripcion};p.put(`http://localhost:4000/especies/${m}`,t,{headers:{Authorization:`Bearer ${r==null?void 0:r.token}`}}).then(n=>{console.log(n),x("/especies")}).catch(n=>{if(p.isAxiosError(n)){const c=n;if(c.response){const v=c.response.data;i(v.error||"Error al actualizar la especie. Por favor intente de nuevo.")}else i("Error al actualizar la especie. Por favor intente de nuevo.")}else i("Error al actualizar la especie. Por favor intente de nuevo.");console.error("Error al actualizar la especie:",n)})};return h?e.jsx("div",{children:"Cargando los datos de la especie..."}):l?e.jsx("div",{children:l}):a?e.jsx("div",{className:"d-flex vh-100 justify-content-center align-items-center",children:e.jsxs("div",{className:"w-50 white-bg rounded p-3",children:[e.jsxs("form",{onSubmit:b,children:[e.jsx("h2",{children:"Actualizar Especie"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre"}),e.jsx("input",{type:"text",placeholder:"Introduzca el nombre de la especie",className:"form-control",id:"nombre",value:a.nombre||"",onChange:s=>o({...a,nombre:s.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"tamano",children:"Tamaño (cm)"}),e.jsx("input",{type:"number",placeholder:"Introduzca el tamaño de la especie",className:"form-control",id:"tamano",value:a.tamano||"",onChange:s=>{const t=Number(s.target.value);o({...a,tamano:isNaN(t)?0:t})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"peso",children:"Peso (kg)"}),e.jsx("input",{type:"number",placeholder:"Introduzca el peso de la especie",className:"form-control",id:"peso",value:a.peso||"",onChange:s=>{const t=Number(s.target.value);o({...a,peso:isNaN(t)?0:t})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"habitat",children:"Habitat"}),e.jsx("input",{type:"text",placeholder:"Introduzca el habitat de la especie",className:"form-control",id:"habitat",value:a.habitat||"",onChange:s=>o({...a,habitat:s.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"alimentacion",children:"Alimentación"}),e.jsx("input",{type:"text",placeholder:"Introduzca la alimentación de la especie",className:"form-control",id:"alimentacion",value:a.alimentacion||"",onChange:s=>o({...a,alimentacion:s.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"tipo",children:"Tipo"}),e.jsx("input",{type:"text",placeholder:"Introduzca el tipo de la especie",className:"form-control",id:"tipo",value:a.tipo||"",onChange:s=>o({...a,tipo:s.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"descripcion",children:"Descripción"}),e.jsx("input",{type:"text",placeholder:"Introduzca la descripción de la especie",className:"form-control",id:"descripcion",value:a.descripcion||"",onChange:s=>o({...a,descripcion:s.target.value})})]}),e.jsx("button",{className:"btn btn-success",children:"Actualizar"}),e.jsx(g,{to:"/especies",className:"btn btn-danger",children:"Cancelar"})]}),l&&e.jsx("p",{className:"mensaje-error",children:l})]})}):e.jsx("div",{children:"Datos de especie no encontrados"})};export{z as default};
