import{r as l,a as c,j as e,L as h}from"./index-Bs6gLj6-.js";function u(){const[n,d]=l.useState([]),[i,a]=l.useState(null),[x,o]=l.useState(!0);if(l.useEffect(()=>{o(!0),c.get("http://localhost:4000/especies").then(s=>{d(s.data),o(!1)}).catch(s=>{if(c.isAxiosError(s)){const r=s;if(r.response){const t=r.response.data;a(t.error||"La carga de datos de las especies fallo.")}else a("La carga de datos de las especies fallo.")}else a("La carga de datos de las especies fallo.");console.error("Error al recibir las especies:",s),o(!1)})},[]),x)return e.jsx("div",{children:"Cargando los datos de las especies..."});if(i)return e.jsx("div",{children:i});if(!n)return e.jsx("div",{children:"No se encontraron datos de las especies."});const j=s=>{c.delete("http://localhost:4000/especies/"+s).then(r=>{console.log(r),d(n.filter(t=>t.id!==s))}).catch(r=>{if(c.isAxiosError(r)){const t=r;if(t.response){const p=t.response.data;a(p.error||"Error al borrar la especie")}else a("Error al borrar la especie")}else a("Error al borrar la especie");console.error(r)})};return e.jsx("div",{className:"d-flex vh-100 justify-content-center align-items-center",children:e.jsxs("div",{className:"white-bg rounded p-3",children:[e.jsx(h,{to:"/crear",className:"btn btn-success",children:"Añadir +"}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Tamaño (cm)"}),e.jsx("th",{children:"Peso (kg)"}),e.jsx("th",{children:"Habitat"}),e.jsx("th",{children:"Alimentación"}),e.jsx("th",{children:"Tipo"}),e.jsx("th",{children:"Descripción"}),e.jsx("th",{children:"Acción"})]})}),e.jsx("tbody",{children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"No hay datos de especies disponibles en este momento."})}):n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.nombre}),e.jsx("td",{children:s.tamano}),e.jsx("td",{children:s.peso}),e.jsx("td",{children:s.habitat}),e.jsx("td",{children:s.alimentacion}),e.jsx("td",{children:s.tipo}),e.jsx("td",{children:s.descripcion}),e.jsxs("td",{children:[e.jsx(h,{to:`/actualizar/${s.id}`,className:"btn btn-success",children:"Actualizar"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>j(s.id),children:"Eliminar"})]})]},s.id))})]}),i&&e.jsx("p",{className:"mensaje-error",children:i})]})})}export{u as default};
